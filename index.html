<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>다운로드 사이트</title>
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3460543345743298"
     crossorigin="anonymous"></script>
<style>
  
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue","Noto Sans KR",sans-serif;
  background: linear-gradient(135deg,#a1c4fd,#c2e9fb);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.container{
  background: rgba(255,255,255,0.1);
  backdrop-filter: blur(15px);
  border-radius: 20px;
  padding:40px 30px;
  text-align:center;
  box-shadow: 0 8px 32px rgba(0,0,0,0.1);
  width:90%;
  max-width:500px;
}
.top-buttons{
  display:flex;
  justify-content:space-between;
  margin-bottom: 30px;
  flex-wrap:wrap;
  gap:10px;
}
.top-buttons a{
  background: rgba(255,255,255,0.2);
  backdrop-filter: blur(10px);
  padding:10px 16px;
  border-radius:12px;
  text-decoration:none;
  color:#fff;
  font-weight:600;
  transition:0.3s;
}
.top-buttons a:hover{background: rgba(255,255,255,0.3);}
.download-btn{
  display:inline-block;
  background: rgba(255,255,255,0.25);
  backdrop-filter: blur(12px);
  padding:18px 28px;
  border-radius:16px;
  font-size:18px;
  font-weight:700;
  color:#fff;
  text-decoration:none;
  transition:0.3s;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
}
.download-btn:hover{background: rgba(255,255,255,0.35);}
h1{
  margin-bottom:20px;
  color:#fff;
  font-size:24px;
  text-shadow:0 2px 6px rgba(0,0,0,0.3);
}
.version-list{
  margin-top:30px;
  text-align:left;
}
.version-list a{
  display:block;
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(10px);
  padding:10px 12px;
  border-radius:12px;
  margin-bottom:10px;
  text-decoration:none;
  color:#fff;
  font-weight:500;
  transition:0.3s;
}
.version-list a:hover{background: rgba(255,255,255,0.25);}
.whatsnew-btn{
  margin-top:20px;
  display:inline-block;
  text-decoration:none;
  color:#fff;
  font-weight:600;
  background: rgba(255,255,255,0.2);
  backdrop-filter: blur(10px);
  padding:10px 14px;
  border-radius:12px;
  transition:0.3s;
  cursor:pointer;
}
.whatsnew-btn:hover{background: rgba(255,255,255,0.3);}
.modal{
  display:none;
  position:fixed;
  top:0;left:0;width:100%;height:100%;
  background: rgba(0,0,0,0.5);
  justify-content:center;
  align-items:center;
  z-index:100;
}
.modal-content{
  background: rgba(255,255,255,0.1);
  backdrop-filter: blur(15px);
  border-radius:20px;
  padding:30px 20px;
  max-width:400px;
  width:90%;
  color:#fff;
  box-shadow: 0 8px 32px rgba(0,0,0,0.2);
  text-align:left;
  position:relative;
}
.modal-content h2{
  margin-top:0;
  text-align:center;
}
.close-btn{
  position:absolute;
  top:10px; right:14px;
  cursor:pointer;
  font-size:20px;
  font-weight:700;
  color:#fff;
}
/* fullscreen iframe modal */
.modal.fullscreen{
  align-items:stretch;
}
.modal.fullscreen .modal-content{
  width:100%;
  height:100%;
  max-width:none;
  border-radius:0;
  padding:0;
}
.modal.fullscreen .close-btn{
  top:10px;
  right:18px;
  z-index: 110;
}
@media(max-width:500px){
  .top-buttons a{padding:8px 12px;font-size:14px;}
  .download-btn{padding:14px 20px;font-size:16px;}
}
</style>
</head>
<body>
<div class="container">
  <!-- 상단 버튼 -->
  <div class="top-buttons">
    <a href="https://youtube.com/@lchat-z4l?si=7xRqoH4caB5mlQQz" target="_blank">YouTube</a>
    <a href="#" id="openChatServer">채팅 서버</a>
    <a href="https://naver.me/GOhSpjkB" target="_blank">카페 [Lchat] 초대</a>
  </div>

  <!-- 기존 top-buttons 아래에 추가 -->
<div style="text-align:center; margin-top:15px;">
  <span class="whatsnew-btn" id="chatGuideBtn">💬 채팅 웹 실행 조건 & 방법</span>
</div>

<!-- 모달: 채팅 가이드 -->
<div class="modal" id="chatGuideModal">
  <div class="modal-content">
    <span class="close-btn" id="closeChatGuide">&times;</span>
    <h2>💬 채팅 웹 실행 조건 & 방법</h2>
    <ul>
      <li><strong>서버:</strong> Node.js 또는 WebSocket 서버가 필요합니다.</li>
      <li><strong>클라이언트:</strong> chat.html, chat.js, CSS 파일이 준비되어 있어야 합니다.</li>
      <li><strong>호스팅:</strong> 현재 페이지와 같은 도메인에서 실행하면 CORS 문제 없음.</li>
      <li><strong>실행 방법:</strong>
        <ol>
          <li>서버를 켭니다 (Node.js 환경, 터미널 파일로 연결시고 npm install 후 npm start)</li>
          <li>localhost 접속</li>
          <li>타인과 대화를 원한다면 ngrok 혹은 다른 확장 프로그램을 이용하여 타인과 공유</li>
        </ol>
      </li>
    </ul>
  </div>
</div>

  <h1>최신 버전 다운로드</h1>
  <!-- V3 최신 버전 -->
  <a class="download-btn" href="https://drive.google.com/uc?export=download&id=1EMq8CqjnEMk5OAuJ87QfPAVNqTk3pAa4" target="_blank">⬇ V3 다운로드</a>

  <div class="version-list">
    <h2 style="color:#fff;margin-bottom:10px;">이전 버전</h2>
    <a href="https://drive.google.com/drive/folders/1MvrbjpB_XwT-ny3rSj545t6vF7yT-9ph" target="_blank">V2 다운로드</a>
    <a href="https://drive.google.com/drive/folders/14ToWefQ6zAkG5B5poYmkBTnso5hl4Bxo" target="_blank">V1 다운로드</a>
  </div>

  <div style="text-align:center;">
    <span class="whatsnew-btn" id="openModal">📢 Whats New 보기</span>
  </div>
</div>

<!-- Whats New 모달 -->
<div class="modal" id="whatsNewModal">
  <div class="modal-content">
    <span class="close-btn" id="closeModal">&times;</span>
    <h2>📢 Whats New</h2>
    <ul>
      <li><strong>UI 개선</strong> - 보여줄게 완전이 예뻐진 나!</li>
      <li><strong>봇 제작!</strong> - 이제는 봇까지 섭렵한 Lchat! 무려 JavaScript 가 작동된다고!</li>
      <li><strong>신고기능</strong> - 더이상 이상한 사람을 가만히 보지 않아도 오케이!</li>
      <li><strong>개발자의 중노동</strong> - 후원좀요...</li>
    </ul>
  </div>
</div>

<!-- 채팅 서버(전체화면 iframe) 모달 -->
<div class="modal" id="chatServerModal">
  <div class="modal-content">
    <span class="close-btn" id="closeChatServer">&times;</span>
    <iframe id="chatServerFrame" src="" frameborder="0" style="width:100%;height:100vh;"></iframe>
  </div>
</div>

<script>
/*
  변경된 동작:
  - "채팅 서버" 버튼은 페이지 이동 없이 전체 화면 모달로 지정된 URL을 iframe에 로드합니다.
  - 링크(주소창)는 변경되지 않습니다 (href="#" 그대로 유지).
  제한사항:
  - iframe에 로드하려는 외부 사이트가 X-Frame-Options 또는 CSP로 임베딩을 차단하면 내용이 표시되지 않습니다.
*/

const CHAT_SERVER_URL = 'https://autocatalytic-untranscendent-dayle.ngrok-free.dev/';

const chatGuideModal = document.getElementById('chatGuideModal');
const chatGuideBtn = document.getElementById('chatGuideBtn');
const closeChatGuide = document.getElementById('closeChatGuide');

const whatsNewModal = document.getElementById('whatsNewModal');
const openBtn = document.getElementById('openModal');
const closeBtn = document.getElementById('closeModal');

const chatServerModal = document.getElementById('chatServerModal');
const openChatServer = document.getElementById('openChatServer');
const closeChatServer = document.getElementById('closeChatServer');
const chatServerFrame = document.getElementById('chatServerFrame');

chatGuideBtn.addEventListener('click', () => { chatGuideModal.style.display = 'flex'; });
closeChatGuide.addEventListener('click', () => { chatGuideModal.style.display = 'none'; });

openBtn.addEventListener('click', () => { whatsNewModal.style.display = 'flex'; });
closeBtn.addEventListener('click', () => { whatsNewModal.style.display = 'none'; });

// 채팅 서버 열기 (주소창 변경 없이 전체 화면 iframe으로 로드)
openChatServer.addEventListener('click', (e) => {
  e.preventDefault();
  chatServerFrame.src = CHAT_SERVER_URL;
  chatServerModal.classList.add('fullscreen');
  chatServerModal.style.display = 'flex';
});

// 채팅 서버 닫기: iframe 비우기(리소스 해제)
closeChatServer.addEventListener('click', () => {
  chatServerModal.style.display = 'none';
  chatServerFrame.src = 'about:blank';
  chatServerModal.classList.remove('fullscreen');
});

// 공통: 모달 바깥 클릭으로 닫기
window.addEventListener('click', (e) => {
  if (e.target === chatGuideModal) chatGuideModal.style.display = 'none';
  if (e.target === whatsNewModal) whatsNewModal.style.display = 'none';
  if (e.target === chatServerModal) {
    chatServerModal.style.display = 'none';
    chatServerFrame.src = 'about:blank';
    chatServerModal.classList.remove('fullscreen');
  }
});
</script>
</body>
</html>
